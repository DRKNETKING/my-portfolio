<!-- index.html (full final) -->
<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portofolio Premium ‚Äî Abdulhabib</title>

  <!-- SEO / Social -->
  <meta name="description" content="Portofolio premium Abdulhabib ‚Äî Web Engineer. PWA, GSAP, dark mode, branding, anime avatars, project modal, dan performa profesional." />
  <meta property="og:title" content="Portofolio Premium ‚Äî Abdulhabib" />
  <meta property="og:description" content="Website modern, PWA-ready, animasi GSAP, anime avatar, dan fitur interaktif." />
  <meta property="og:image" content="/icons/icon-512.png" />
  <meta name="theme-color" content="#0ea5e9" />

  <!-- manifest -->
  <link rel="manifest" href="/manifest.json">

  <!-- icons (recommended to place in /icons/) -->
  <link rel="icon" href="/icons/icon-192.png" sizes="192x192">

  <!-- fonts & icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root{--brand:#0ea5e9;--bg:#0b1116;--card:rgba(255,255,255,0.03);--glass:rgba(255,255,255,0.04);--text:#e8eef4;--muted:#9aa4b2;--radius:16px}
    html,body{height:100%;}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;background:linear-gradient(180deg,#071018 0%, #0b1116 100%);color:var(--text);-webkit-font-smoothing:antialiased}

    /* PRELOADER */
    #preloader{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;background:linear-gradient(180deg,#06080a 0,#0b1116 100%);z-index:99999}
    .loader{width:56px;height:56px;border-radius:50%;border:5px solid rgba(255,255,255,0.08);border-top-color:var(--brand);animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* NAV */
    nav{position:fixed;inset:0 auto auto 0;height:72px;left:0;right:0;top:0;display:flex;align-items:center;justify-content:space-between;padding:12px 28px;background:rgba(3,7,10,0.35);backdrop-filter:blur(8px);z-index:1000;border-bottom:1px solid rgba(255,255,255,0.03)}
    .brand{display:flex;gap:10px;align-items:center}
    .brand h1{color:var(--brand);font-size:18px;margin:0}
    .nav-links{display:flex;gap:12px}
    .nav-links a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:10px;font-weight:600}
    .nav-links a:hover{background:var(--glass);color:var(--text)}

    .controls{display:flex;gap:10px;align-items:center}
    .color-input{width:38px;height:38px;border-radius:10px;border:0;cursor:pointer}
    .toggle-btn{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:10px;color:var(--text);cursor:pointer}

    /* LAYOUT */
    .wrap{max-width:1100px;margin:110px auto;padding:28px}
    .hero{display:flex;gap:36px;align-items:center}
    .hero-left{flex:1}
    .eyebrow{display:inline-block;padding:6px 14px;border-radius:999px;background:var(--card);color:var(--muted);font-weight:700;margin-bottom:12px}
    h1.big{font-size:36px;line-height:1.05;margin:10px 0}
    p.lead{color:var(--muted);max-width:680px;margin-bottom:18px}
    .cta{display:flex;gap:12px}
    .btn{padding:12px 18px;border-radius:12px;font-weight:700;border:0;cursor:pointer}
    .btn-primary{background:var(--brand);color:#001}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text)}

    .hero-right{width:360px}
    .profile-card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:16px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);display:flex;gap:12px;align-items:center}
    .avatar{width:86px;height:86px;border-radius:12px;background-size:cover;background-position:center;border:2px solid rgba(255,255,255,0.04)}

    /* SECTIONS */
    .section-title{display:flex;gap:12px;align-items:center;margin-top:44px;margin-bottom:12px}
    .stripe{width:6px;height:28px;background:var(--brand);border-radius:6px}

    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}
    .card{background:var(--card);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);transition:transform .28s,box-shadow .28s;cursor:pointer}
    .card:hover{transform:translateY(-8px);box-shadow:0 30px 60px rgba(0,0,0,0.45)}
    .thumb{height:150px;border-radius:10px;background-size:cover;background-position:center;margin-bottom:12px}

    /* MODAL */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:2000;padding:18px}
    .modal.show{display:flex}
    .modal-card{width:min(980px,98%);background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:18px;border-radius:12px;display:grid;grid-template-columns:1fr 320px;gap:14px}
    .modal-thumb{height:320px;border-radius:10px;background-size:cover;background-position:center}

    /* BACK TO TOP */
    #backTop{position:fixed;right:24px;bottom:24px;width:48px;height:48px;border-radius:50%;background:var(--brand);display:flex;align-items:center;justify-content:center;color:#001;cursor:pointer;box-shadow:0 14px 36px rgba(0,0,0,0.45);opacity:0;pointer-events:none;transition:opacity .25s}
    #backTop.show{opacity:1;pointer-events:auto}

    footer{margin-top:40px;text-align:center;color:var(--muted);padding-bottom:40px}

    /* RESPONSIVE */
    @media(max-width:900px){.hero{flex-direction:column}.hero-right{width:100%}.modal-card{grid-template-columns:1fr}.wrap{padding:18px;margin-top:90px}h1.big{font-size:28px}}
  </style>
</head>
<body>

  <!-- PRELOADER -->
  <div id="preloader">
    <div class="loader" aria-hidden="true"></div>
    <p style="color:var(--muted);margin-top:14px">Memuat portofolio...</p>
  </div>

  <!-- NAV -->
  <nav>
    <div class="brand"><h1>Abdulhabib</h1><div style="color:var(--muted);font-size:13px">Creative Agency</div></div>
    <div class="nav-links"><a href="#projects">Projects</a><a href="#about">Tentang</a><a href="#contact">Kontak</a></div>
    <div class="controls">
      <input id="brandColor" class="color-input" type="color" value="#0ea5e9" aria-label="Ubah warna branding">
      <button id="toggleTheme" class="toggle-btn" title="Toggle theme">üåì</button>
      <button id="installBtn" class="toggle-btn" style="display:none" title="Install app">‚¨áÔ∏è</button>
    </div>
  </nav>

  <main class="wrap">
    <!-- HERO -->
    <section class="hero">
      <div class="hero-left">
        <div class="eyebrow">Agensi ‚Ä¢ Web ‚Ä¢ PWA ‚Ä¢ Branding</div>
        <h1 class="big">Kami Bangun Digital Experience untuk Brand Modern</h1>
        <p class="lead">Saya Abdulhabib ‚Äî Web Engineer. Membangun situs premium, PWA, dan brand identity. Sentuhan anime visual untuk gaya yang lebih unik.</p>
        <div class="cta"><a href="#contact" class="btn btn-primary">Mulai Diskusi</a><a href="#projects" class="btn btn-ghost">Lihat Portfolio</a></div>
      </div>

      <aside class="hero-right">
        <div class="profile-card">
          <div id="avatar" class="avatar" style="background-image:url('https://picsum.photos/seed/anime1/400')" aria-hidden="true"></div>
          <div>
            <h3 style="margin:0">Abdulhabib</h3>
            <div style="color:var(--muted);font-size:13px">Web Engineer ‚Ä¢ Indonesia</div>
            <div style="margin-top:10px" class="avatar-switch"><button data-avatar="https://picsum.photos/seed/anime1/400">Anime A</button><button data-avatar="https://picsum.photos/seed/anime2/400">Anime B</button><button data-avatar="https://picsum.photos/seed/anime3/400">Anime C</button></div>
          </div>
        </div>
      </aside>
    </section>

    <!-- ABOUT (anchor exists) -->
    <div id="about" style="margin-top:28px;padding:18px;border-radius:12px;background:var(--card);border:1px solid rgba(255,255,255,0.02)">
      <h3 style="margin:0 0 8px">Tentang Saya</h3>
      <p style="color:var(--muted);margin:0">Saya seorang Web Engineer yang berfokus pada PWA, performa, UI/UX, dan pengalaman pengguna. Saya membangun aplikasi yang stabil, cepat, dan dapat diskalakan.</p>
    </div>

    <!-- PROJECTS -->
    <div class="section-title"><span class="stripe"></span><h3 style="margin:0">Projek Unggulan</h3></div>
    <section id="projects" class="grid" aria-live="polite">

      <article class="card" data-title="Sistem Akademik Modern" data-desc="Dashboard realtime (PHP + MySQL). Otentikasi, export CSV, responsif." data-img="https://picsum.photos/seed/edu/1200" data-demo="#">
        <div class="thumb" style="background-image:url('https://picsum.photos/seed/edu/800')" aria-hidden="true"></div>
        <h4 style="margin:0 0 6px">Sistem Akademik Modern</h4>
        <p style="color:var(--muted);margin:0">Dashboard realtime untuk kampus & sekolah.</p>
      </article>

      <article class="card" data-title="Smart Notes PWA" data-desc="Aplikasi catatan offline-first. IndexedDB + Sync otomatis." data-img="https://picsum.photos/seed/notes/1200" data-demo="#">
        <div class="thumb" style="background-image:url('https://picsum.photos/seed/notes/800')" aria-hidden="true"></div>
        <h4 style="margin:0 0 6px">Smart Notes (PWA)</h4>
        <p style="color:var(--muted);margin:0">PWA pencatat offline yang sangat ringan.</p>
      </article>

      <article class="card" data-title="E-Commerce Lite" data-desc="Toko online ringan + Midtrans Payment + Admin Panel." data-img="https://picsum.photos/seed/shop/1200" data-demo="#">
        <div class="thumb" style="background-image:url('https://picsum.photos/seed/shop/800')" aria-hidden="true"></div>
        <h4 style="margin:0 0 6px">E-Commerce Lite</h4>
        <p style="color:var(--muted);margin:0">Sistem belanja cepat & aman.</p>
      </article>

    </section>

    <!-- CONTACT -->
    <div class="section-title" style="margin-top:28px"><span class="stripe"></span><h3 style="margin:0">Kontak</h3></div>
    <section id="contact" class="contact" style="margin-top:12px">
      <p style="text-align:center;color:var(--muted);margin:0">Email: <strong>habib@example.com</strong></p>
    </section>

    <footer><small>¬© <span id="year"></span> Abdulhabib ‚Äî All rights reserved.</small></footer>
  </main>

  <!-- BACK TO TOP -->
  <button id="backTop" aria-label="Back to top"><i class="fas fa-arrow-up"></i></button>

  <!-- MODAL -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-card">
      <div id="modalThumb" class="modal-thumb"></div>
      <div>
        <h3 id="modalTitle"></h3>
        <p id="modalDesc" style="color:var(--muted)"></p>
        <div style="margin-top:12px;display:flex;gap:10px">
          <a id="modalDemo" class="btn btn-primary" href="#" target="_blank">Lihat Demo</a>
          <a id="modalRepo" class="btn btn-ghost" href="#" target="_blank" style="display:none">Source</a>
          <button class="btn btn-ghost" onclick="closeModal()">Tutup</button>
        </div>
      </div>
    </div>
  </div>

  <!-- SCRIPTS: GSAP + CORE JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script>
    // Utilities
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));

    // Preloader
    window.addEventListener('load', () => {
      const pre = $('#preloader');
      if(pre) pre.style.display = 'none';
      init();
    });

    // Init after load
    function init(){
      document.getElementById('year').textContent = new Date().getFullYear();
      initTheme();
      initBrandColor();
      initAvatarSwitcher();
      initCards();
      initGSAP();
      initBackTop();
      initPWAInstall();
      registerSW();
    }

    // THEME
    function initTheme(){
      const btn = $('#toggleTheme');
      const saved = localStorage.getItem('theme');
      if(saved) document.body.classList.toggle('dark', saved === 'dark');
      else {
        const hr = new Date().getHours();
        if(hr >= 18 || hr < 6) document.body.classList.add('dark');
      }
      btn.addEventListener('click', () => {
        const isDark = document.body.classList.toggle('dark');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
      });
    }

    // Brand color
    function initBrandColor(){
      const input = $('#brandColor');
      const saved = localStorage.getItem('brandColor');
      if(saved) document.documentElement.style.setProperty('--brand', saved), input.value = saved;
      input.addEventListener('input', (e) => { document.documentElement.style.setProperty('--brand', e.target.value); localStorage.setItem('brandColor', e.target.value); });
    }

    // Avatar switcher
    function initAvatarSwitcher(){
      $$('.avatar-switch button').forEach(btn => btn.addEventListener('click', (e) => {
        const url = e.currentTarget.dataset.avatar;
        $('#avatar').style.backgroundImage = `url('${url}')`;
        gsap.fromTo('#avatar',{scale:0.9,rotation:-4},{scale:1,rotation:0,duration:0.6,ease:'elastic.out(1,0.6)'});
      }));
    }

    // Cards -> modal
    function initCards(){
      $$('.card').forEach(card => card.addEventListener('click', (e) => openCardModal(e, card)));
      // modal close on backdrop
      $('#modal').addEventListener('click', (e) => { if(e.target === $('#modal')) closeModal(); });
      document.addEventListener('keydown', (e) => { if(e.key === 'Escape') closeModal(); });
    }

    function openCardModal(ev, card){
      ev.stopPropagation();
      const title = card.dataset.title || card.querySelector('h4')?.innerText || 'Project';
      const desc = card.dataset.desc || card.querySelector('p')?.innerText || '';
      const img = card.dataset.img || '';
      const demo = card.dataset.demo || '#';
      const repo = card.dataset.repo || '#';

      $('#modalTitle').textContent = title;
      $('#modalDesc').textContent = desc;
      $('#modalThumb').style.backgroundImage = `url('${img}')`;
      $('#modalDemo').href = demo;
      if(repo && repo !== '#'){ $('#modalRepo').href = repo; $('#modalRepo').style.display = 'inline-block'; } else { $('#modalRepo').style.display = 'none'; }

      $('#modal').classList.add('show');
      $('#modal').setAttribute('aria-hidden','false');
      gsap.fromTo('.modal-card',{y:40,opacity:0},{y:0,opacity:1,duration:0.45,ease:'power3.out'});
    }
    function closeModal(){ $('#modal').classList.remove('show'); $('#modal').setAttribute('aria-hidden','true'); }

    // GSAP animations
    function initGSAP(){
      if(typeof gsap === 'undefined') return;
      gsap.registerPlugin(ScrollTrigger);
      gsap.from('.eyebrow',{y:8,opacity:0,duration:0.6});
      gsap.from('.big',{y:20,opacity:0,duration:0.9,delay:0.1});
      gsap.from('.lead',{y:16,opacity:0,duration:0.8,delay:0.2});
      gsap.from('.profile-card',{x:30,opacity:0,duration:0.8,delay:0.3});
      gsap.from('.grid .card',{y:30,opacity:0,duration:0.75,stagger:0.12,scrollTrigger:{trigger:'.grid',start:'top 85%'}});
    }

    // Back to top
    function initBackTop(){
      const btn = $('#backTop');
      window.addEventListener('scroll', () => {
        if(window.scrollY > 300) btn.classList.add('show'); else btn.classList.remove('show');
      });
      btn.addEventListener('click', () => window.scrollTo({top:0,behavior:'smooth'}));
    }

    // PWA install prompt
    let deferredPrompt;
    function initPWAInstall(){
      window.addEventListener('beforeinstallprompt', (e) => { e.preventDefault(); deferredPrompt = e; $('#installBtn').style.display = 'inline-block'; });
      $('#installBtn').addEventListener('click', async () => {
        if(!deferredPrompt) return;
        deferredPrompt.prompt();
        const choice = await deferredPrompt.userChoice;
        deferredPrompt = null;
        $('#installBtn').style.display = 'none';
      });
    }

    // Register service worker
    function registerSW(){
      if('serviceWorker' in navigator){
        navigator.serviceWorker.register('/service-worker.js').then(()=>console.log('SW registered')).catch(err=>console.warn('SW error',err));
      }
    }
  </script>

  <!-- ===================== EMBEDDED ASSETS: manifest.json + service-worker.js CONTENT (copy to root) ===================== -->
  <!-- Save the next two blocks as separate files in your project root: manifest.json and service-worker.js -->

  <!-- manifest.json -->
  <!--
  {
    "name": "Portofolio Premium Abdulhabib",
    "short_name": "HabibPort",
    "description": "Portofolio premium ‚Äî Web Engineer, PWA, GSAP, anime avatars.",
    "start_url": "/",
    "scope": "/",
    "display": "standalone",
    "background_color": "#0b1116",
    "theme_color": "#0ea5e9",
    "icons": [
      {"src":"/icons/icon-72.png","sizes":"72x72","type":"image/png"},
      {"src":"/icons/icon-96.png","sizes":"96x96","type":"image/png"},
      {"src":"/icons/icon-128.png","sizes":"128x128","type":"image/png"},
      {"src":"/icons/icon-192.png","sizes":"192x192","type":"image/png"},
      {"src":"/icons/icon-512.png","sizes":"512x512","type":"image/png","purpose":"maskable"}
    ]
  }
  -->

  <!-- service-worker.js -->
  <!--
  const CACHE = 'habib-portfolio-v1';
  const ASSETS = [
    '/', '/index.html', '/manifest.json',
    '/icons/icon-192.png', '/icons/icon-512.png'
    // add other static files if present (css, images)
  ];

  self.addEventListener('install', (e) => {
    e.waitUntil(caches.open(CACHE).then(c => c.addAll(ASSETS)));
    self.skipWaiting();
  });

  self.addEventListener('activate', (e) => {
    e.waitUntil(caches.keys().then(keys => Promise.all(keys.map(k => k !== CACHE ? caches.delete(k) : null))));
    self.clients.claim();
  });

  self.addEventListener('fetch', (e) => {
    const req = e.request;
    if(req.mode === 'navigate'){
      e.respondWith(fetch(req).catch(()=>caches.match('/index.html')));
      return;
    }
    e.respondWith(caches.match(req).then(cached => cached || fetch(req).then(res => { if(req.method === 'GET') caches.open(CACHE).then(cache => cache.put(req, res.clone())); return res; }).catch(()=>{
      if(req.destination === 'image') return caches.match('/icons/icon-192.png');
      return new Response('Offline', {status:503});
    })));
  });
  -->

</body>
</html>

<!-- NOTES: 
1) Copy the manifest.json block (remove HTML comment) into a file named manifest.json at your project root.
2) Copy the service-worker.js block (remove HTML comment) into file service-worker.js at root.
3) Add icons in /icons/: icon-192.png and icon-512.png (maskable recommended).
4) Push to GitHub Pages or any static host; install prompt will appear on supported browsers.
-->





















